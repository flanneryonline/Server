#!/usr/bin/env bash

set -o errexit
set -o nounset

function zroot_datasets {

    local root_pool=${ROOT_POOL:-${root_pool:-"zroot"}}

    zfs create -o mountpoint=none "${root_pool}/root"
    zfs create -o mountpoint=/ "${root_pool}/root/current"
    zpool set bootfs=${root_pool}/root/current ${root_pool}

    echo "    zroot datasets created"
    return 0
}
